% Term project, 2011 Jan Pokorny <xpokor04@stud.fit.vutbr.cz>

%============================================================================
% XELATEX-SPECIFIC PACKAGES

% XeLaTeX-specific packages and settings
\usepackage{ifxetex}
\ifxetex
    \usepackage{fontspec, xunicode}
    % Font settings
    %\usepackage{mathpazo}
    \setmainfont{TeX Gyre Pagella}
    %\setmonofont[Scale=MatchLowercase]{DejaVu Sans Mono}

    %\defaultfontfeatures{Mapping=tex-text}
    %\setromanfont[Mapping=tex-text]{URW Palladio L}
    %\setsansfont[Scale=MatchLowercase,Mapping=tex-text]{URW Palladio L}

    % Language settings
    \usepackage{polyglossia}
    \ifCzech
        \setdefaultlanguage{czech}
        \setotherlanguage{english}
    \else
        \setdefaultlanguage{english}
        \setotherlanguage{czech}
    \fi
    \usepackage{xltxtra}
\else
    \typeout{Document intended to be processed exclusively with XeLaTeX!}
\fi


%============================================================================
% OTHER PACKAGES

\usepackage[text={152mm,230mm},left=35.84mm,top=31.63mm]{geometry}

% Additional symbols and mathematic stuff
%\usepackage{amsmath, amssymb}
\usepackage{textcomp}

% Priority packages
%\usepackage{url}
\usepackage{color}
\usepackage[autostyle=try]{csquotes} % adapt without warnings

% Bibliography
%\usepackage[numbers]{natbib}
\usepackage[backend=biber
           ,sortlocale=cs_CZ
           %,sortlocale=en_US
           ,style=iso
           ,bibstyle=numeric
           ,citestyle=numeric-comp
           ,sorting=none
           ,natbib=true
           ]{biblatex}

% Other packages
%\usepackage[xetex]{graphicx}
%\usepackage{fancyvrb}
\usepackage{makeidx}
\usepackage[nottoc]{tocbibind}
\usepackage[titles]{tocloft}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{listings}
\ifWis
    \ifxetex
        \definecolor{links}{rgb}{0.8,0.1,0.1}
        \definecolor{urls}{rgb}{0.1,0.1,0.8}
        \definecolor{cite}{rgb}{0.1,0.8,0.1}
        \usepackage[%backref=page,
                    % Bookmarks
                   ,bookmarksnumbered=true
                   ,bookmarksopenlevel=1
                   ,bookmarksopen=true
                   ,bookmarks=true
                    %
                   ,citecolor=cite
                   ,colorlinks=true
                   ,linktoc=all
                    %
                   ,draft={\ifDraft{true}\else{false}\fi}
                    %
                   ,hyperindex=true
                   ,linkcolor=links
                   %,pagebackref=true
                   ,pdfborder={0 0 0}
                   ,pdfdisplaydoctitle=true
                   ,pdflang={\ifCzech{cs}\else{en}\fi}
                    % XeTeX backend
                   ,xetex
                   ,plainpages=false
                    % Connected with "Failed to convert input string to UTF16" message?
                    unicode=true,
                   ,urlcolor=urls
                   ]{hyperref}
        \def\UrlLeft{{\color{black}{<}}}
        \def\UrlRight{{\color{black}{>}}}
        %\bgroup\catcode`\#=12\gdef\hash{#}\egroup \newcommand{\urlhash}[3]{\url{#1\hash#3}}
    \fi
\else
    \usepackage{backref}
    \def\UrlLeft{{<}}
    \def\UrlRight{{>}}
    \newcommand{\urlhash}[3]{\url{#1#2#3}}
\fi


%============================================================================
% PACKAGES-SPECIFIC CUSTOMIZATION

\ifWis
% PDF metadata
\hypersetup{pdftitle={\localizedDocInfo{title}}
           ,pdfauthor={\fullDocAuthor}
           ,pdfsubject={\localizedDocInfo{project}}
           ,pdfkeywords={\localizedDocInfo{keywords}}}
\fi           


% Customization for `backref'
%\ifCzech
%    \renewcommand*\backref[1]{\ifx#1\relax \else (odkazuje s.\,#1) \fi}
%\else
%    \renewcommand*\backref[1]{\ifx#1\relax \else (referring p.\,#1) \fi}
%\fi

\makeindex

%\DeclareUrlCommand\url{\def\UrlLeft{<url:\ }\def\UrlRight{>}\urlstyle{tt}}
%\DeclareUrlCommand\url{\def\UrlLeft{<}\def\UrlRight{>}\urlstyle{tt}}

\definecolor{lightgray}{rgb}{0.8,0.8,0.8}
\ifWis
    \definecolor{mygreen}{rgb}{0,0.6,0.1}
    \definecolor{mydarkgreen}{rgb}{0,0.3,0.05}
\else
    \definecolor{mygreen}{rgb}{0,0,0}
    \definecolor{mydarkgreen}{rgb}{0,0,0}
\fi

\setlength{\columnseprule}{0.333pt}


%
% Customization for `enumitem'
%
\newlist{myitemize}{itemize}{40}
\setlist[myitemize]{label=\textbullet}


%
% Customization for `csquotes'
%
\MakeOuterQuote{"}
\DeclareQuoteStyle{czech}{„}{“}{‚}{‘}
%\DeclareQuoteStyle{czech}%     [variant]{style}
%  {\quotedblbase }%                   opening outer mark
%  {\textquotedblleft}%                  closing outer mark
%  {\textquoteleft}%                      opening inner mark
%  {\textquoteright}%    
%%\DeclarePlainStyle{,,}{''}{,}{'}
